---
layout: post
category: 学习之路
title : "IOS 常见异常"
---

IOS 异常捕获和常见Crash

1."performSelector may cause a leak because its selector is unknown"

cause by 

```
[target performSelector:action];
```

solve 

```
IMP imp = [target methodForSelector:action];
void (*func)(id, SEL) = (void *)imp;
func(target,action);
```

或者忽略

```
#pragma clang diagnostic push
#pragma clang diagnostic ignored "-Warc-performSelector-leaks"
[target performSelector:action];
#pragma clang diagnostic pop
```



10.Use Legacy Swift Language Version  错误    

在project  和target 吧 SWIFT_VERSION   Use Legacy Swift Language Version   这个属性改成NO就可以了

高版本Xcode 选Swift3



1、iOS 删除线不显示问题 （10.3以后） 解决办法：

```
[str addAttribute:NSStrikethroughStyleAttributeName value:@(NSUnderlineStyleSingle | NSUnderlinePatternSolid) range:NSMakeRange(3, model.fee.length)];
//加上下面这个属性
[str addAttribute:NSBaselineOffsetAttributeName value:@(NSUnderlineStyleNone) range:NSMakeRange(0, 3)];
```

