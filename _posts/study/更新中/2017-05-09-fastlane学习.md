1、xcode直接打包上穿itc原理







xcodebuild打包  xcodebuild test

xctool 打包  facebook  xcodebuild 的扩展   xcodebuild test

xcpretty

xcodebuild xcpretty是一个快速和灵活的格式化程序，格式化xcodebuild输出

 ci



1、xctool生成archive xcodebuild生成ipa

2、xcodebuild生成archive xcrun生成ipa

3、直接用xcodebuild生成 archive + xcpretty 格式化输出，签名，然后打包 ipa 



```
1、打包时必须进入项目目录进行
2、获取证书名称：Launchpad->其他->钥匙串访问->选择证书->鼠标右击->显示简介->细节->常用名称->复制
3、获取描述文件UUID：打开Xcode->菜单栏->Preferences->Accounts->Apple IDs->帐号->show Details->Provisioning Profiles->选择项目中使用的描述文件->鼠标右击->show in Finder
4、获取target/schemes：终端->cd 项目目录->进入项目目录后，执行命令"xcodebuild -list"
```



xcode重新签名

http://blog.csdn.net/qq_34047841/article/details/54144149



目标

- 内部测试版本：使用标准开发者的Developer证书签名的ipa文件。
- 公开测试版本：使用企业账户的Distribute InHouse证书签名的ipa文件。
- AppStore版本：使用标准开发者的AppStore证书签名的ipa文件。
- 保留每个版本的dSYM调试符号文件。



fastlane

安装 http://www.jianshu.com/p/78e324a4962c



http://blog.csdn.net/jiang314/article/details/54929471



http://www.cocoachina.com/ios/20150728/12733.html

deliver

一个命令上传截图,元数据和应用程序到ITC



spaceship

With spaceship it is possible to directly access the underlying APIs using a simple HTTP client only.

直接访问底层api，通过一个简单的HTTP客户端



Apple Developer Portal API



iTunes Connect API



https://idmsa.apple.com



在自己电脑上实现一套上架流程，企业化实现。



gym

自动打包

原理

- `xcodebuild`

- [xcpretty](https://github.com/supermarin/xcpretty)

  **xcpretty is a fast and flexible formatter for xcodebuild**.



pem

自动生成和更新推送式通知配置文件

RSA公钥文件（PEM）

pem创建新的 pem、cer、p12文件 用来上传到您的 服务器如果需要有效的推送通知配置文件

1、创建一个签名请求

2、创建一个新的推送证书

3、下载证书

4、生成一个新的 pem文件 在当前工作目录，你可以把它上传到你的服务器

note 

pem will never revoke your existing certificates. 

pem can't download any of your existing push certificates

as the private key is only available on the machine it was created on.

如果你已经有一个推证书启用,这是活跃的至少30天,pem不会创建一个新的证书。如果你还想创建一个

```
fastlane pem --force
```

传递参数

```
fastlane pem -a com.krausefx.app -u username
```



sigh

创建\更新\下载和修复 provisioning profiles,支持App Store, Ad Hoc, Development和企业profiles







match



