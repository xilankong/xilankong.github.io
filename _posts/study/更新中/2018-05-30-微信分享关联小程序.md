---
layout: post
category: 学习之路
title : "微信分享关联小程序"
---

### 微信平台介绍：

1、微信开放平台：用在客户端接入微信SDK、常见的就是分享

2、微信公众平台：小程序所在平台，小程序有原始ID、AppID，分享转小程序打开的时候需要原始ID



### 客户端分享到微信并以小程序的方式打开：

1、需要客户端APP所在微信开放平台 (接微信SDK的时候注册的开放平台) 进行认证、认证后关联需要分享打开的小程序、最多可以关联五个。

2、小程序关联的移动应用关联对应客户端App

3、小程序存在多个环境：开发、体验、正式

我们在开发中的时候、小程序属于开发环境，要访问开发环境的小程序需要权限：微信账号需要加入小程序的开发者列表里面。

4、添加完成后，扫描小程序的开发版二维码就可以访问开发版的小程序了

5、我们客户端APP要分享到微信并用小程序打开的话，需要更新最新微信sdk，接入代码如下：



![image-20180621161926904](/var/folders/hp/042tvftx3wsbgp4gvlgbyscr0000gn/T/abnerworks.Typora/image-20180621161926904.png)



6、要注意的是如果我们开发期间需要控制分享到小程序的环境，可以通过miniProgramType 控制我们要分享出去的小程序环境。

```
miniProgramType:

typedef NS_ENUM(NSUInteger, WXMiniProgramType){
    WXMiniProgramTypeRelease = 0,       //**< 正式版  */
    WXMiniProgramTypeTest = 1,        //**< 开发版  */
    WXMiniProgramTypePreview = 2,         //**< 体验版  */
};
```





