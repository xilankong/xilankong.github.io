---
layout: post
category: 2017年
title : "iOS自动化打包(二)"
---

> 前面写过iOS在自动化打包这一方面的内容，这里再补充一些打包相关的其他小知识。



## 苹果开发者账号那点事

- Apple Developer 网站
- iTunes Connect 网站
- 加急审核申请




## 如何在一个设备上安装一个App的两个不同版本



> 测试妹子问你：你们能不能同时装线下包和线上包啊，我每次验证问题都要删除后重新装一个，好麻烦。
>
> 那么，怎么办呢？妹子的需求肯定是要满足的啊！



#### 开始干活

![](https://xilankong.github.io/resource/twoicon.png)

首先，我们统计一下需要处理的类别：测试 、预发、发布、其他渠道

iOS系统区分不同的App是否相同是根据App的Bundle ID是否相同来判断的。如果想要在一个系统上安装一个App的多个版本其实是需要多个Bundle ID，就是说正式版一个Bundle ID，测试版一个Bundle ID。

```
测试包：com.yanghuang.demotest
预发包: com.yanghuang.demopre
发布包：com.yanghuang.demo
```



#### 第一步：Build Configuration 添加一个发布构建

选中 PROJECT 的名称，然后选中 Info，点击 Configurations 下面的 "+"  选择 Duplicate "Release" Configuration 创建一个名称为 AppStore 的发布构建 如图：

![](https://xilankong.github.io/resource/buildConfig.png)





#### 第二步：BUNDLE_IDENTIFIER 配置

选中TARGET -> Build Settings ->  PRODUCT_BUNDLE_IDENTIFIER

可以根据不同构建设置对应的BUNDLE_IDENTIFIER，如图：

![](https://xilankong.github.io/resource/buildId.png)



#### 第三步：图标配置

选中TARGET -> Build Settings ->  ASSETCATALOG_COMPILER_APPICON_NAME

可以根据不同构建设置对应的AppIcon，如图：

![](https://xilankong.github.io/resource/iconchange.png)



#### 第四步：App名称配置

App名称的更改不建议去更改ProductName配置项，可以自定义一个配置项，如图：

![](https://xilankong.github.io/resource/userdefine.png)



配置完成后，在修改一下Info.plist 的配置 

检查是否有  Bundle display name，没有添加一个。并配置Value为 ${APP_DISPLAY_NAME}，如图：

![](https://xilankong.github.io/resource/modeinfo.png)





#### 第五步：哎，不同版本的包能不能一起装



。。。



## 推送问题解决

