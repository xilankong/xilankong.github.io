---
layout: post
category: iOS性能优化
title : "iOS性能检测"
---

性能优化要做的事

```
内存泄漏、卡顿、网络、CPU\GPU、电量\发热、启动速度、网络、包体积、编译

iOS 系统了解

可用性：crash abort bug

基础性能：启动时间、包体积

流畅：页面速度、卡顿、渲染

资源消耗：CPU 、内存、 流量、存储


AOP方式自动监控  页面跳转失败、Json解析失败、网络请求失败

埋点监控
```



1、性能监控 、量化需要优化的空间

卡顿的监控

监听主线程的方式来判断runloop执行时间统计，超时打印堆栈

消息发送时间统计

cpu大线程堆栈



启动时间优化：量化启动时间

<https://www.jianshu.com/p/c14987eee107>

<https://techblog.toutiao.com/2017/01/17/iosspeed/#more>



2、性能优化



代码层面、事件处理、线程管理、I/O优化 NSCache





资源瘦身



png - webp (需要更多CPU解码时间)、重复资源监测、





性能优化

1、启动时间优化： 动态库、启动耗时检测、动态库加载时间检测、优化

启动的时候做了什么，有哪些地方是可以优化的。，动态库链接内存占用

2、FPS优化：App卡顿检测统计、流畅度优化

是哪些原因导致的卡顿，卡顿的可优化区间

CPU coreGraphics绘制耗时
GPU 渲染耗时

image展示优化，UIImageView 加载优化

YYAsyncLayer如何异步绘制？ 原理

3、内存优化、内存的原理，虚拟内存等

3、耗电、发热优化：cpu和gpu使用的平衡

4、Xcode编译优化：xcode编译优化、代码风格优化、pod库自动脚本打成二进制库、

5、打包优化


理一理深层次的优化，系统层面、硬件原理层面

自动回收池原理

图片缓存 decode of images in the background



微信阅读优化

http://wereadteam.github.io/2016/05/03/WeRead-Performance/